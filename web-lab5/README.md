# Лабораторная работа 5: Алгоритмы отсечения отрезков и многоугольников

## Вариант 5

### Описание
Программное обеспечение для визуализации алгоритмов отсечения отрезков и многоугольников в компьютерной графике. Приложение реализует два алгоритма:
1. Алгоритм Лианга-Барски для отсечения отрезков прямоугольным окном
2. Алгоритм отсечения выпуклого многоугольника (Сазерленда-Ходжмана)

### Требования
- Python 3.6 или выше
- Стандартная библиотека Tkinter (обычно входит в состав Python)

### Установка
1. Убедитесь, что у вас установлен Python 3:
   ```bash
   python3 --version
   ```

2. Клонируйте репозиторий или скачайте файлы проекта:
   - `main.py` - основной файл программы
   - `test_data.txt` - пример входных данных

3. Установка дополнительных библиотек не требуется - используется только стандартная библиотека Python.

### Запуск программы
```bash
python3 main.py
```

### Формат входных данных
Программа принимает текстовые файлы в следующем формате:
```
n                       # количество отрезков
x1_1 y1_1 x2_1 y2_1     # координаты первого отрезка
x1_2 y1_2 x2_2 y2_2     # координаты второго отрезка
...
x1_n y1_n x2_n y2_n     # координаты n-го отрезка
xmin ymin xmax ymax     # координаты отсекающего окна (xmin, ymin, xmax, ymax)
```

Пример (`test_data.txt`):
```
6
-10 -5 15 10
5 -8 12 15
-8 12 10 -10
-3 -3 -3 15
2 -7 2 12
-7 3 12 3
-5 -5 10 10
```

### Описание интерфейса

#### Левая панель (управление)
1. **Информация** - показывает номер варианта и используемые алгоритмы
2. **Управление файлами**:
   - *Загрузить файл* - загрузка данных из текстового файла
   - *Создать тестовые данные* - генерация тестового примера
   - *Очистить всё* - удаление всех данных
3. **Отсечение отрезков**:
   - *Выполнить отсечение* - запуск алгоритма Лианга-Барски
   - *Показать исходные* - отображение начальных данных
4. **Отсечение многоугольника**:
   - *Выполнить отсечение* - запуск алгоритма Сазерленда-Ходжмана
   - *Показать исходный* - отображение начального многоугольника
5. **Статусная строка** - отображает текущее состояние программы

#### Правая панель (графика)
1. **Верхний холст** - отсечение отрезков алгоритмом Лианга-Барски
2. **Нижний холст** - отсечение выпуклого многоугольника

### Обозначения на графике
- **Сетка** - координатная сетка с шагом 20 пикселей
- **Оси** - черные линии осей X и Y
- **Отсекающее окно** - синий пунктирный прямоугольник с голубой заливкой
- **Исходные отрезки** - красные линии
- **Исходный многоугольник** - зеленый многоугольник с полупрозрачной заливкой
- **Отсеченные отрезки** - темно-зеленые линии (толщина 3)
- **Отсеченный многоугольник** - темно-синий многоугольник

### Реализованные алгоритмы

#### 1. Алгоритм Лианга-Барски
- **Назначение**: Отсечение отрезков прямоугольным окном
- **Особенности**: Использует параметрическое представление отрезков
- **Преимущества**: Эффективен для прямоугольных окон, минимизирует вычисления
- **Обработка особых случаев**: Отрезки параллельные границам, полностью видимые и невидимые отрезки

#### 2. Алгоритм Сазерленда-Ходжмана
- **Назначение**: Отсечение выпуклого многоугольника выпуклым окном
- **Особенности**: Последовательно обрабатывает каждую границу окна
- **Преимущества**: Работает с произвольными выпуклыми многоугольниками
- **Ограничения**: Требует выпуклости отсекающего окна

### Инструкция по использованию

#### Вариант 1: Использование тестовых данных
1. Запустите программу
2. Нажмите кнопку "Создать тестовые данные"
3. Нажмите "Выполнить отсечение" в разделе "Отсечение отрезков"
4. Нажмите "Выполнить отсечение" в разделе "Отсечение многоугольника"

#### Вариант 2: Использование собственных данных
1. Подготовьте файл в формате, указанном выше
2. Запустите программу
3. Нажмите "Загрузить файл" и выберите ваш файл
4. Используйте кнопки для выполнения отсечения

### Тестирование
Программа была протестирована на следующих случаях:
- Отрезки полностью внутри окна отсечения
- Отрезки полностью снаружи окна
- Отрезки, пересекающие границы окна
- Отрезки, касающиеся границ окна
- Выпуклые многоугольники различных форм
- Краевые случаи (точки на границах окна)

### Структура кода
```
GraphicsApp (основной класс)
├── LiangBarskyClipper (алгоритм отсечения отрезков)
├── SutherlandHodgmanClipper (алгоритм отсечения многоугольника)
├── Методы инициализации интерфейса
├── Методы работы с графикой
├── Методы загрузки и обработки данных
└── Методы визуализации
```

### Особенности реализации
1. **Масштабирование**: Автоматическое масштабирование координат для отображения
2. **Координатная система**: Центрированная система координат с возможностью просмотра отрицательных значений
3. **Интерактивность**: Возможность смены между исходными и отсеченными данными
4. **Обработка ошибок**: Защита от некорректных входных данных
5. **Статусная строка**: Информация о текущих операциях

---

## Быстрый старт
1. Установите Python 3
2. Скачайте `main.py` и `test_data.txt`
3. Запустите: `python3 main.py`
4. Нажмите "Создать тестовые данные"
5. Используйте кнопки для выполнения отсечения

Приложение готово к использованию!