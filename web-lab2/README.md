# Image File Analyzer

Приложение для анализа графических файлов, разработанное для лабораторной работы №2 по обработке растровых изображений.

## Описание

Приложение позволяет анализировать графические файлы различных форматов, извлекая основную информацию об изображениях. Поддерживает обработку до 100000 файлов в одной папке.

## Возможности

### Основные функции:
- Анализ графических файлов форматов: JPG, GIF, TIF, BMP, PNG, PCX
- Отображение основной информации:
  - Имя файла
  - Размер изображения в пикселях
  - Разрешение (DPI)
  - Глубина цвета
  - Тип сжатия
- Дополнительная информация для различных форматов:
  - EXIF данные для JPEG
  - Палитра для GIF
  - Матрица квантования для JPEG (дополнительно)
  - Информация о прозрачности для PNG и GIF
- Обработка до 100000 файлов в одной папке
- Экспорт результатов в CSV формат
- Многопоточная обработка файлов
- Дружелюбный графический интерфейс

### Дополнительные возможности:
- Подробная информация о выбранном файле
- Подсветка различных форматов
- Прогресс-бар для отслеживания обработки
- Возможность отмены операции
- Автоматическое определение характеристик файлов

## Требования к системе

### Программное обеспечение:
- Операционная система: Windows 7/8/10/11
- Python 3.8 или выше
- Установленные библиотеки: Pillow

### Аппаратные требования:
- Процессор: 1 GHz или выше
- ОЗУ: 1 ГБ или больше
- Место на диске: 50 МБ свободного пространства

## Установка

### Способ 1: Исполняемый файл (EXE)

1. Скачайте архив с программой
2. Распакуйте архив в любую папку
3. Запустите файл `ImageAnalyzer.exe`

### Способ 2: Запуск из исходного кода

1. Установите Python 3.8+ с официального сайта: https://python.org
2. Установите необходимые библиотеки:
   ```bash
   pip install Pillow
   ```
3. Скачайте исходный код программы
4. Запустите файл `main.py`:
   ```bash
   python3 main.py
   ```

## Использование

### Основные шаги:

1. **Запустите программу**
   - Дважды кликните на `ImageAnalyzer.exe` (или запустите `python main.py`)

2. **Выберите папку для анализа**
   - Нажмите кнопку "Выбрать папку"
   - Выберите папку с графическими файлами
   - Программа автоматически начнет анализ файлов

3. **Просмотр результатов**
   - В таблице отображается основная информация о файлах
   - Для просмотра детальной информации выберите файл в таблице
   - Детальная информация отображается в правой панели

4. **Экспорт результатов**
   - Нажмите кнопку "Экспорт в CSV"
   - Выберите место для сохранения файла
   - Все данные будут сохранены в CSV формате

### Интерфейс программы:

```
┌─────────────────────────────────────────────────────────────┐
│ [Выбрать папку]  Папка: ...  [Готов]  [##########]          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Имя файла    Формат  Размер    DPI     Глубина   Сжатие    │
│  ───────────────────────────────────────────────────────    │
│  image1.jpg   JPG     1920x1080 300x300 24 бит    JPEG      │
│  photo.png    PNG     800x600   96x96   32 бит    Deflate   │
│  ...          ...     ...       ...     ...       ...       │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [Экспорт в CSV] [Очистить] [Справка]          Файлов: 10/50 │
└─────────────────────────────────────────────────────────────┘
```

## Поддерживаемые форматы

| Формат | Расширения | Особенности |
|--------|------------|-------------|
| JPEG/JPG | .jpg, .jpeg | EXIF данные, качество сжатия |
| PNG | .png | Прозрачность, глубина цвета |
| GIF | .gif | Анимация, палитра, прозрачность |
| BMP | .bmp | Без сжатия, различные глубины цвета |
| TIFF | .tif, .tiff | Многостраничность, разные схемы сжатия |
| PCX | .pcx | RLE сжатие, палитра |


## Документация

### Способ получения данных:

1. **Основная информация**:
   - Размер: через `img.width` и `img.height`
   - Разрешение: через `img.info.get('dpi')`
   - Глубина цвета: определяется по режиму изображения `img.mode`
   - Сжатие: анализируется по формату файла

2. **Дополнительная информация**:
   - EXIF данные: `img._getexif()` для JPEG
   - Палитра: `img.palette` для GIF
   - Прозрачность: проверка режима и метаданных

3. **Информация о файле**:
   - Размер файла: `os.stat(file_path).st_size`
   - Дата изменения: `os.stat(file_path).st_mtime`
   - Дата создания: `os.stat(file_path).st_ctime`

### Используемые библиотеки:

- **Pillow (PIL Fork)** - работа с изображениями
- **tkinter** - графический интерфейс
- **threading** - многопоточная обработка
- **struct** - чтение бинарных данных
- **csv** - экспорт в CSV формат

## Критерии оценки лабораторной работы

### Основные требования (60 баллов):
1. **Корректность отображаемых данных** (40 баллов):
   - Правильное определение размера изображения
   - Корректное отображение разрешения (DPI)
   - Точное определение глубины цвета
   - Правильная информация о сжатии
   - Поддержка всех указанных форматов

2. **Дружелюбный и удобный интерфейс** (20 баллов):
   - Удобная навигация
   - Наглядное отображение информации
   - Возможность экспорта данных
   - Интуитивно понятное управление

### Дополнительные возможности (доп. баллы):
- Отображение матрицы квантования для JPEG
- Показ количества цветов в палитре для GIF
- Детальная информация о форматах файлов
- Поддержка большого количества файлов

## Обработка ошибок

Программа корректно обрабатывает:
- Отсутствие файлов в папке
- Некорректные графические файлы
- Отсутствие прав доступа к файлам
- Прерывание операции пользователем
- Недостаток памяти

## Производительность

- Обработка ~600 файлов JPEG общим объемом 2 ГБ: менее 5 минут
- Поддержка многопоточности для ускорения обработки
- Оптимизированное использование памяти
- Прогресс-бар для отслеживания выполнения

## Создание исполняемого файла

Для создания EXE-файла выполните:

```bash
pip install pyinstaller
pyinstaller --onefile --windowed --name "ImageAnalyzer" --icon=icon.ico main.py
```

## Известные ограничения

1. **Форматы файлов**: поддерживаются только указанные 6 форматов
2. **Количество файлов**: максимально 100000 файлов в одной папке
3. **Размер файлов**: ограничено доступной оперативной памятью
4. **Операционная система**: приложение оптимизировано для Windows

## Устранение неполадок

### Проблема: Не отображаются файлы
**Решение**: Проверьте, что в папке есть файлы поддерживаемых форматов

### Проблема: Некорректная информация
**Решение**: Убедитесь, что файлы не повреждены

### Проблема: Медленная обработка
**Решение**: Закройте другие приложения, освободите память

### Проблема: Ошибка при экспорте
**Решение**: Проверьте права доступа к папке для сохранения
